import{r as g,R as e,S as a,a as x,T as o,I as m,C as h,B as f,b as p,c as y,G as C,u as S,d as j,e as M,f as z,g as A,h as O,i as W,j as b}from"./vendor.a1c0cc38.js";const R=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function c(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(r){if(r.ep)return;r.ep=!0;const i=c(r);fetch(r.href,i)}};R();const N=async()=>{try{const t=await fetch("https://coding-challenge-api.aerolab.co/products",{headers:{Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MWRiNTM5M2RjZmZlMTAwMjFlOGM1YTAiLCJpYXQiOjE2NDE3NjM3MzF9.vO6zIewyjcEXFaKe1fw2bXcWSkK0h3SwiAbFW1oXe1o"}});if(t.status===200)return await t.json();t.status===404?console.log("404"):console.log("500")}catch(t){console.log(t)}},k=()=>{const[t,n]=g.exports.useState();return g.exports.useEffect(()=>{N().then(c=>{n(c)})},[]),t};var X="/'/Aerolab-Challenge/'/assets/arrow-left.f705a2e8.svg",F="/'/Aerolab-Challenge/'/assets/arrow-right.4d88762e.svg";const J=({products:t,filters:n,filterSelected:c,changeFilter:l})=>e.createElement(a,{alignItems:"flex-start",justifyContent:"space-between",direction:"row",spacing:"max(6vw,60px)"},e.createElement(a,{direction:"row",alignItems:"center",flex:1,spacing:"max(2vw,10px)",width:"100%",divider:e.createElement(x,{alignSelf:"center",color:"gray.300",height:"max(2vw,40px)"})},e.createElement(o,{fontSize:"max(1vw,15px)"},t.length," of ",t.length," products"),e.createElement(a,{direction:{base:"column",sm:"column",md:"row",lg:"row"},alignItems:"center",spacing:"max(1vw,15px)"},e.createElement(o,{fontSize:"max(1vw,15px)"},"Sort by:"),n.map(r=>e.createElement(a,{key:r,onClick:()=>l(r),paddingY:"10px",cursor:"pointer",borderRadius:999,width:"max(6vw,100px)",bg:c===r?"cyan.300":"gray.200",justifyContent:"center",alignItems:"center"},e.createElement(o,{color:c===r?"white":"gray.400"},r))))),e.createElement(a,{direction:"row",alignSelf:"center",alignItems:"center",justifyContent:"center"},e.createElement(m,{width:"max(2vw,30px)",height:"max(2vw,30px)",cursor:"pointer",src:X}),e.createElement(m,{width:"max(2vw,30px)",height:"max(2vw,30px)",cursor:"pointer",src:F})));var T="/'/Aerolab-Challenge/'/assets/buy-blue.25c230c4.svg",P="/'/Aerolab-Challenge/'/assets/buy-white.4f602b87.svg",u="/'/Aerolab-Challenge/'/assets/coin.b471c109.svg";const Y=async t=>await(await fetch("https://coding-challenge-api.aerolab.co/redeem",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MWRiNTM5M2RjZmZlMTAwMjFlOGM1YTAiLCJpYXQiOjE2NDE3NjM3MzF9.vO6zIewyjcEXFaKe1fw2bXcWSkK0h3SwiAbFW1oXe1o"},body:JSON.stringify({productId:t})})).json(),D=({points:t,product:n,changePoints:c,selected:l,changeSelected:r})=>e.createElement(h,{position:"relative",onClick:l?()=>r():()=>r(n._id),maxW:"max(15vw,300px)",width:"100%",padding:3,paddingTop:0,bg:"white",boxShadow:"sm"},e.createElement(a,{bg:"wite",padding:0,divider:e.createElement(x,{color:"gray.300"})},e.createElement(a,{userSelect:"none",paddingX:0,paddingY:3,bgPos:"center",bgImage:n.img.url,bgSize:"contain",bgRepeat:"no-repeat",height:180,justifyContent:"flex-start",alignItems:"flex-end"},n.cost<t?e.createElement(m,{width:6,height:6,src:T}):!l&&e.createElement(a,{bg:"blackAlpha.600",borderRadius:999,direction:"row",alignItems:"center",textAlign:"center",paddingX:2,paddingY:1,spacing:1},e.createElement(o,{fontSize:"sm",color:"gray.300"},"You need ",n.cost-t),e.createElement(m,{width:5,height:5,src:u}))),e.createElement(a,{alignItems:"flex-start",spacing:0},e.createElement(o,{color:"gray.300"},n.category),e.createElement(o,null,n.name))),l&&e.createElement(a,{left:0,top:0,height:"100%",width:"100%",position:"absolute",bg:"rgba(11,197,234,0.8)",alignItems:"center",justifyContent:"center"},e.createElement(m,{userSelect:"none",position:"absolute",left:"86%",top:"4%",src:P,width:7,height:7}),e.createElement(a,{direction:"row",alignItems:"center"},e.createElement(o,{color:"white",fontSize:"max(2vw,30px)",lineHeight:"none"},n.cost),e.createElement(m,{src:u,width:8,height:8})),n.cost<t?e.createElement(f,{onClick:()=>Y(n._id).then(c(t-n.cost))},"Redeem now"):e.createElement(a,{alignItems:"center",color:"white"},e.createElement(o,{fontWeight:"500"},"Don't have the necessary points"),e.createElement(a,{direction:"row",alignItems:"center",spacing:1},e.createElement(o,{fontWeight:"500"},"You need ",n.cost-t),e.createElement(m,{src:u,width:5,height:5}))))),w=["Most Recent","Lowest price","Highest price"],H=({points:t,changePoints:n})=>{const[c,l]=g.exports.useState(w[0]),[r,i]=g.exports.useState(),s=k();return g.exports.useMemo(()=>{switch(c){case w[0]:return s;case w[1]:return s.sort((d,E)=>d.cost-E.cost);case w[2]:default:return s.sort((d,E)=>E.cost-d.cost)}},[c,s]),s?e.createElement(p,null,e.createElement(h,{maxW:"6xl"},e.createElement(a,{spacing:"max(1vw,10px)",divider:e.createElement(x,{color:"gray.300"})},e.createElement(J,{products:s,filters:w,filterSelected:c,changeFilter:l}),e.createElement(C,{gap:"max(1.5vw,20px)",templateColumns:"repeat(auto-fill,minmax(256px,1fr))",width:"100%"},s.map(d=>e.createElement(D,{key:d._id,points:t,changePoints:n,product:d,selected:r===d._id,changeSelected:i})))))):e.createElement(p,null,e.createElement(y,{isIndeterminate:!0,color:"cyan.200"}))};var L="/'/Aerolab-Challenge/'/assets/logo.ca5f8d57.svg";const G=async()=>{try{const t=await fetch("https://coding-challenge-api.aerolab.co/user/me",{headers:{Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MWRiNTM5M2RjZmZlMTAwMjFlOGM1YTAiLCJpYXQiOjE2NDE3NjM3MzF9.vO6zIewyjcEXFaKe1fw2bXcWSkK0h3SwiAbFW1oXe1o"}});if(t.status===200)return await t.json();t.status===404?console.log("404"):console.log("500")}catch(t){console.log(t)}},v=()=>{const[t,n]=g.exports.useState();return g.exports.useEffect(()=>{G().then(c=>{n(c)})},[]),t},K=async t=>await(await fetch("https://coding-challenge-api.aerolab.co/user/points",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MWRiNTM5M2RjZmZlMTAwMjFlOGM1YTAiLCJpYXQiOjE2NDE3NjM3MzF9.vO6zIewyjcEXFaKe1fw2bXcWSkK0h3SwiAbFW1oXe1o"},body:JSON.stringify({amount:t})})).json(),I=({points:t,changePoints:n,isHome:c})=>{const l=v(),[r,i]=g.exports.useState(!0),s=S();return l?(r&&(n(l.points),i(!r)),e.createElement(j,{bg:"white",width:"100%"},e.createElement(h,{maxW:"100vw"},e.createElement(a,{direction:"row",paddingY:3,width:"100%",justifyContent:"space-between",alignItems:"center"},e.createElement(m,{cursor:"pointer",onClick:()=>s("/"),src:L,width:7,height:7}),c?e.createElement(f,{_hover:{backgroundColor:"cyan.200"},bg:"cyan.300",color:"white",onClick:()=>s("/history")},"History"):e.createElement(f,{_hover:{backgroundColor:"cyan.200"},bg:"cyan.300",color:"white",onClick:()=>s("/")},"Home"),e.createElement(a,{direction:"row",alignItems:"center",spacing:3},e.createElement(o,null,l.name),e.createElement(a,{onClick:()=>K(1e3).then(d=>{n(d["New Points"])}),cursor:"pointer",paddingX:2,paddingY:1,direction:"row",justifyContent:"center",alignItems:"center",bg:"gray.100",borderRadius:999},e.createElement(o,null,t),e.createElement(m,{src:u,width:5,height:5}))))))):e.createElement(p,null,e.createElement(y,{isIndeterminate:!0,color:"cyan.200"}))};var Q="/'/Aerolab-Challenge/'/assets/header.ce3ca7ef.png";const Z=()=>e.createElement(a,{justifyContent:"flex-end",bgImage:Q,bgSize:"cover",alignItems:"flex-start",minH:"max(25vw,150px)",paddingX:"10vw",paddingY:"3vw"},e.createElement(o,{fontWeight:"500",fontSize:"max(3vw,25px)",color:"white"},"Electronics")),B=()=>{const[t,n]=g.exports.useState();return e.createElement(a,{spacing:0,bg:"gray.100",flex:1},e.createElement(I,{points:t,changePoints:n,isHome:!0}),e.createElement(Z,null),e.createElement(p,null,e.createElement(h,{maxW:"80vw"},e.createElement(a,{marginTop:50,flex:1,spacing:6},e.createElement(H,{points:t,changePoints:n})))))},U=({product:t})=>e.createElement(a,{direction:"row",spacing:"max(4vw,25px)",justifyContent:"center",alignItems:"center",bg:"white",border:"1px solid #9DECF9",borderRadius:"10px"},e.createElement(m,{objectFit:"contain",width:"max(6vw,25px)",height:"max(6vw,25px)",src:t.img.url}),e.createElement(a,{width:"100%",maxW:"max(12vw,40px)",alignItems:"center",justifyContent:"center",spacing:0},e.createElement(o,{fontSize:"max(1.2vw,10px)"},t.name),e.createElement(o,{fontSize:"max(0.8vw,8px)",color:"gray.300"},t.category)),e.createElement(a,{width:"100%",maxW:"max(12vw,10px)",alignItems:"center",justifyContent:"center",spacing:0},e.createElement(o,{fontSize:"max(1.2vw,7px)"},t.createDate.slice(0,10)),e.createElement(o,{fontSize:"max(0.8vw,7px)",color:"gray.300"},"Date YY/MM/DD")),e.createElement(a,{alignItems:"center",justifyContent:"center",spacing:0},e.createElement(a,{direction:"row",alignItems:"center",textAlign:"center",spacing:"max(0.5vw,5px)"},e.createElement(o,{fontSize:"max(1.2vw,10px)"},t.cost),e.createElement(m,{src:u,width:"max(1vw,10px)",height:"max(1vw,10px)"})),e.createElement(o,{fontSize:"max(0.8vw,8px)",color:"gray.300"},"Price"))),_=({history:t})=>(console.log(t),e.createElement(p,null,e.createElement(h,{maxW:"6xl"},e.createElement(o,{display:"flex",alignSelf:"flex-start",fontSize:"max(4vw,25px)",fontWeight:"800",color:"cyan.300",marginBottom:"max(1vw,20px)"},"Redeem Historial"),e.createElement(a,{spacing:5,divider:e.createElement(x,{color:"gray.300"})},t.map(n=>e.createElement(U,{product:n})).reverse())))),$=()=>{const t=v(),[n,c]=g.exports.useState();return t?e.createElement(a,{spacing:0,bg:"gray.100",flex:1},e.createElement(I,{points:n,isHome:!1,changePoints:c}),e.createElement(p,null,e.createElement(h,{maxW:"80vw"},e.createElement(a,{marginTop:"max(2vw,20px)",flex:1,spacing:6},e.createElement(_,{history:t.redeemHistory}))))):e.createElement(p,null,e.createElement(y,{isIndeterminate:!0,color:"cyan.200"}))};var V=M({styles:{global:{"#root":{textAlign:"center",backgroundColor:"white",minHeight:"100vh",display:"flex",flexDirection:"column",color:"#333"},"*":{boxSizing:"border-box"},body:{margin:"0"}}}});z.render(e.createElement(e.StrictMode,null,e.createElement(A,{theme:V},e.createElement(O,null,e.createElement(W,null,e.createElement(b,{path:"/",element:e.createElement(B,null)}),e.createElement(b,{path:"/history",element:e.createElement($,null)}))))),document.getElementById("root"));
